var e=require("util"),t=require("url"),s=require("http"),r=require("https"),i=require("zlib"),n=require("fs"),o=require("process"),a=require("v8"),c=require("cluster");function l(e,t,s,r){Object.defineProperty(e,t,{get:s,set:r,enumerable:!0,configurable:!0})}var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},h={},p={},m=u.parcelRequirea1d5;null==m&&((m=function(e){if(e in h)return h[e].exports;if(e in p){var t=p[e];delete p[e];var s={id:e,exports:{}};return h[e]=s,t.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){p[e]=t},u.parcelRequirea1d5=m),m.register("1JpET",(function(e,t){"use strict";var s=m("ctlQa").getValueAsString;function r(e){return e.replace(/\n/g,"\\n").replace(/\\(?!n)/g,"\\\\")}function i(e){return"string"!=typeof e?e:r(e).replace(/"/g,'\\"')}class n{constructor(){this._metrics={},this._collectors=[],this._defaultLabels={}}getMetricsAsArray(){return Object.values(this._metrics)}async getMetricAsPrometheusString(e){const t=await e.get(),n=r(t.name),o=`# HELP ${n} ${r(t.help)}`,a=`# TYPE ${n} ${t.type}`,c=Object.keys(this._defaultLabels);let l="";for(const e of t.values||[]){if(e.labels=e.labels||{},c.length>0){e.labels=Object.assign({},e.labels);for(const t of c)e.labels[t]=e.labels[t]||this._defaultLabels[t]}let r=e.metricName||t.name;const n=Object.keys(e.labels),o=n.length;if(o>0){let t="",s=0;for(;s<o-1;s++)t+=`${n[s]}="${i(e.labels[n[s]])}",`;t+=`${n[s]}="${i(e.labels[n[s]])}"`,r+=`{${t}}`}l+=`${r} ${s(e.value)}\n`}return`${o}\n${a}\n${l}`.trim()}async metrics(){const e=[];for(const t of this.getMetricsAsArray())e.push(this.getMetricAsPrometheusString(t));return`${(await Promise.all(e)).join("\n\n")}\n`}registerMetric(e){if(this._metrics[e.name]&&this._metrics[e.name]!==e)throw new Error(`A metric with the name ${e.name} has already been registered.`);this._metrics[e.name]=e}clear(){this._metrics={},this._defaultLabels={}}async getMetricsAsJSON(){const e=[],t=Object.keys(this._defaultLabels),s=[];for(const e of this.getMetricsAsArray())s.push(e.get());const r=await Promise.all(s);for(const s of r){if(s.values&&t.length>0)for(const e of s.values){e.labels=Object.assign({},e.labels);for(const s of t)e.labels[s]=e.labels[s]||this._defaultLabels[s]}e.push(s)}return e}removeSingleMetric(e){delete this._metrics[e]}getSingleMetricAsString(e){return this.getMetricAsPrometheusString(this._metrics[e])}getSingleMetric(e){return this._metrics[e]}setDefaultLabels(e){this._defaultLabels=e}resetMetrics(){for(const e in this._metrics)this._metrics[e].reset()}get contentType(){return"text/plain; version=0.0.4; charset=utf-8"}static merge(e){const t=new n;return e.reduce(((e,t)=>e.concat(t.getMetricsAsArray())),[]).forEach(t.registerMetric,t),t}}e.exports=n,e.exports.globalRegistry=new n})),m.register("ctlQa",(function(e,t){var s,r,i,n,o,a,c,u;function h(e){let t=Object.keys(e);if(0===t.length)return"";t.length>1&&(t=t.sort());let s="",r=0;const i=t.length;for(;r<i-1;r++)s+=`${t[r]}:${e[t[r]]},`;return s+=`${t[r]}:${e[t[r]]}`,s}l(e.exports,"getValueAsString",(()=>s),(e=>s=e)),l(e.exports,"removeLabels",(()=>r),(e=>r=e)),l(e.exports,"setValue",(()=>i),(e=>i=e)),l(e.exports,"setValueDelta",(()=>n),(e=>n=e)),l(e.exports,"getLabels",(()=>o),(e=>o=e)),l(e.exports,"hashObject",(()=>a),(e=>a=e)),l(e.exports,"isObject",(()=>c),(e=>c=e)),l(e.exports,"Grouper",(()=>u),(e=>u=e)),s=function(e){return Number.isNaN(e)?"Nan":Number.isFinite(e)?`${e}`:e<0?"-Inf":"+Inf"},r=function(e,t){delete e[h(t)]},i=function(e,t,s){return e[h(s)]={value:"number"==typeof t?t:0,labels:s||{}},e},n=function(e,t,s,r=""){const i="number"==typeof t?t:0;return e[r]?e[r].value+=i:e[r]={value:i,labels:s},e},o=function(e,t){if("object"==typeof t[0])return t[0];if(e.length!==t.length)throw new Error("Invalid number of arguments");const s={};for(let r=0;r<e.length;r++)s[e[r]]=t[r];return s},a=h,c=function(e){return e===Object(e)};class p extends Map{add(e,t){this.has(e)?this.get(e).push(t):this.set(e,[t])}}u=p})),m.register("7dHeS",(function(t,s){var r,i,n;l(t.exports,"validateMetricName",(()=>r),(e=>r=e)),l(t.exports,"validateLabelName",(()=>i),(e=>i=e)),l(t.exports,"validateLabel",(()=>n),(e=>n=e));const o=/^[a-zA-Z_:][a-zA-Z0-9_:]*$/,a=/^[a-zA-Z_][a-zA-Z0-9_]*$/;r=function(e){return o.test(e)},i=function(e=[]){return e.every((e=>a.test(e)))},n=function(t,s){for(const r in s)if(!t.includes(r))throw new Error(`Added label "${r}" is not included in initial labelset: ${e.inspect(t)}`)}})),m.register("ioqV6",(function(t,s){"use strict";var r=m("ctlQa"),i=r.hashObject,n=r.isObject,o=r.getLabels,a=r.removeLabels,c=m("7dHeS").validateLabel,l=m("c8UAB").Metric;function u(e,t,s={},r=""){return e[r]?e[r].value+=t:e[r]={value:t,labels:s},e}t.exports=class extends l{inc(t,s){let r;if(n(t)?(r=i(t),c(this.labelNames,t)):(s=t,t={}),s&&!Number.isFinite(s))throw new TypeError(`Value is not a valid number: ${e.format(s)}`);if(s<0)throw new Error("It is not possible to decrease a counter");null==s&&(s=1),u(this.hashMap,s,t,r)}reset(){this.hashMap={},0===this.labelNames.length&&u(this.hashMap,0)}async get(){if(this.collect){const e=this.collect();e instanceof Promise&&await e}return{help:this.help,name:this.name,type:"counter",values:Object.values(this.hashMap),aggregator:this.aggregator}}labels(...e){const t=o(this.labelNames,e)||{};return{inc:this.inc.bind(this,t)}}remove(...e){const t=o(this.labelNames,e)||{};return c(this.labelNames,t),a.call(this,this.hashMap,t)}}})),m.register("c8UAB",(function(e,t){"use strict";var s=m("1JpET").globalRegistry,r=m("ctlQa").isObject,i=m("7dHeS"),n=i.validateMetricName,o=i.validateLabelName;e.exports={Metric:class{constructor(e,t={}){if(!r(e))throw new TypeError("constructor expected a config object");if(Object.assign(this,{labelNames:[],registers:[s],aggregator:"sum"},t,e),this.registers||(this.registers=[s]),!this.help)throw new Error("Missing mandatory help parameter");if(!this.name)throw new Error("Missing mandatory name parameter");if(!n(this.name))throw new Error("Invalid metric name");if(!o(this.labelNames))throw new Error("Invalid label name");if(this.collect&&"function"!=typeof this.collect)throw new Error('Optional "collect" parameter must be a function');this.reset();for(const e of this.registers)e.registerMetric(this)}reset(){}}}})),m.register("9EDXb",(function(t,s){"use strict";var r=m("ctlQa"),i=r.setValue,n=r.setValueDelta,o=r.getLabels,a=r.hashObject,c=r.isObject,l=r.removeLabels,u=m("7dHeS").validateLabel,h=m("c8UAB").Metric;function p(t,s,r){if("number"!=typeof r)throw new TypeError(`Delta is not a valid number: ${e.format(r)}`);u(t.labelNames,s);const i=a(s);n(t.hashMap,r,s,i)}function f(e){return c(e)?e:{}}function d(e,t){return c(e)?t:e}t.exports=class extends h{set(t,s){s=d(t,s),function(t,s,r){if("number"!=typeof r)throw new TypeError(`Value is not a valid number: ${e.format(r)}`);u(t.labelNames,s),i(t.hashMap,r,s)}(this,t=f(t),s)}reset(){this.hashMap={},0===this.labelNames.length&&i(this.hashMap,0,{})}inc(e,t){void 0===(t=d(e,t))&&(t=1),p(this,e=f(e),t)}dec(e,t){void 0===(t=d(e,t))&&(t=1),p(this,e=f(e),-t)}setToCurrentTime(e){const t=Date.now()/1e3;void 0===e?this.set(t):this.set(e,t)}startTimer(e){const t=process.hrtime();return s=>{const r=process.hrtime(t),i=r[0]+r[1]/1e9;return this.set(Object.assign({},e,s),i),i}}async get(){if(this.collect){const e=this.collect();e instanceof Promise&&await e}return{help:this.help,name:this.name,type:"gauge",values:Object.values(this.hashMap),aggregator:this.aggregator}}_getValue(e){const t=a(e||{});return this.hashMap[t]?this.hashMap[t].value:0}labels(...e){const t=o(this.labelNames,e);return u(this.labelNames,t),{inc:this.inc.bind(this,t),dec:this.dec.bind(this,t),set:this.set.bind(this,t),setToCurrentTime:this.setToCurrentTime.bind(this,t),startTimer:this.startTimer.bind(this,t)}}remove(...e){const t=o(this.labelNames,e);u(this.labelNames,t),l.call(this,this.hashMap,t)}}})),m.register("3SVoY",(function(t,s){"use strict";var r=m("ctlQa"),i=r.getLabels,n=r.hashObject,o=r.isObject,a=r.removeLabels,c=m("7dHeS").validateLabel,l=m("c8UAB").Metric;function u(e){return()=>{const t=process.hrtime();return s=>{const r=process.hrtime(t),i=r[0]+r[1]/1e9;return this.observe(Object.assign({},e,s),i),i}}}function h(e,t,s){return{labels:e,value:t,metricName:s}}function p(t){return s=>{const r=function(e,t){return o(e)?{labels:e,value:t}:{value:e,labels:{}}}(t,s);if(c(this.labelNames,r.labels),!Number.isFinite(r.value))throw new TypeError(`Value is not a valid number: ${e.format(r.value)}`);const i=n(r.labels);let a=this.hashMap[i];a||(a=f(r.labels,Object.assign({},this.bucketValues)));const l=function(e,t){for(let s=0;s<e.length;s++){const r=e[s];if(t<=r)return r}return-1}(this.upperBounds,r.value);a.sum+=r.value,a.count+=1,Object.prototype.hasOwnProperty.call(a.bucketValues,l)&&(a.bucketValues[l]+=1),this.hashMap[i]=a}}function f(e,t){return{labels:e,bucketValues:t,sum:0,count:0}}t.exports=class extends l{constructor(e){super(e,{buckets:[.005,.01,.025,.05,.1,.25,.5,1,2.5,5,10]});for(const e of this.labelNames)if("le"===e)throw new Error("le is a reserved label keyword");this.upperBounds=this.buckets,this.bucketValues=this.upperBounds.reduce(((e,t)=>(e[t]=0,e)),{}),Object.freeze(this.bucketValues),Object.freeze(this.upperBounds),0===this.labelNames.length&&(this.hashMap={[n({})]:f({},Object.assign({},this.bucketValues))})}observe(e,t){p.call(this,0===e?0:e||{})(t)}async get(){if(this.collect){const e=this.collect();e instanceof Promise&&await e}const e=Object.values(this.hashMap).map((t=this,e=>{const s=[],r=Object.keys(e.labels);let i=0;for(const n of t.upperBounds){i+=e.bucketValues[n];const o={le:n};for(const t of r)o[t]=e.labels[t];s.push(h(o,i,`${t.name}_bucket`))}return{buckets:s,data:e}})).reduce(function(e){return(t,s)=>{t.push(...s.buckets);const r={le:"+Inf"};for(const e of Object.keys(s.data.labels))r[e]=s.data.labels[e];return t.push(h(r,s.data.count,`${e.name}_bucket`),h(s.data.labels,s.data.sum,`${e.name}_sum`),h(s.data.labels,s.data.count,`${e.name}_count`)),t}}(this),[]);var t;return{name:this.name,help:this.help,type:"histogram",values:e,aggregator:this.aggregator}}reset(){this.hashMap={}}zero(e){const t=n(e);this.hashMap[t]=f(e,Object.assign({},this.bucketValues))}startTimer(e){return u.call(this,e)()}labels(...e){const t=i(this.labelNames,e);return c(this.labelNames,t),{observe:p.call(this,t),startTimer:u.call(this,t)}}remove(...e){const t=i(this.labelNames,e);c(this.labelNames,t),a.call(this,this.hashMap,t)}}})),m.register("2WQLa",(function(t,s){"use strict";var r=m("ctlQa"),i=r.getLabels,n=r.hashObject,o=r.removeLabels,a=m("7dHeS").validateLabel,c=m("c8UAB").Metric,l=m("fnXds");function u(e){return()=>{const t=process.hrtime();return s=>{const r=process.hrtime(t),i=r[0]+r[1]/1e9;return this.observe(Object.assign({},e,s),i),i}}}function h(t){return s=>{const r=function(e,t){return void 0===t?{value:e,labels:{}}:{labels:e,value:t}}(t,s);if(a(this.labelNames,t),!Number.isFinite(r.value))throw new TypeError(`Value is not a valid number: ${e.format(r.value)}`);const i=n(r.labels);let o=this.hashMap[i];o||(o={labels:r.labels,td:new l(this.maxAgeSeconds,this.ageBuckets),count:0,sum:0}),o.td.push(r.value),o.count++,o.count%this.compressCount==0&&o.td.compress(),o.sum+=r.value,this.hashMap[i]=o}}t.exports=class extends c{constructor(e){super(e,{percentiles:[.01,.05,.5,.9,.95,.99,.999],compressCount:1e3,hashMap:{}});for(const e of this.labelNames)if("quantile"===e)throw new Error("quantile is a reserved label keyword");0===this.labelNames.length&&(this.hashMap={[n({})]:{labels:{},td:new l(this.maxAgeSeconds,this.ageBuckets),count:0,sum:0}})}observe(e,t){h.call(this,0===e?0:e||{})(t)}async get(){if(this.collect){const e=this.collect();e instanceof Promise&&await e}const e=Object.values(this.hashMap),t=[];return e.forEach((e=>{var s,r,i;(s=e,r=this.percentiles,s.td.compress(),r.map((e=>{const t=s.td.percentile(e);return{labels:Object.assign({quantile:e},s.labels),value:t||0}}))).forEach((e=>{t.push(e)})),t.push((i=e,{metricName:`${this.name}_sum`,labels:i.labels,value:i.sum})),t.push(function(e,t){return{metricName:`${t.name}_count`,labels:e.labels,value:e.count}}(e,this))})),{name:this.name,help:this.help,type:"summary",values:t,aggregator:this.aggregator}}reset(){Object.values(this.hashMap).forEach((e=>{e.td.reset(),e.count=0,e.sum=0}))}startTimer(e){return u.call(this,e)()}labels(...e){const t=i(this.labelNames,e);return a(this.labelNames,t),{observe:h.call(this,t),startTimer:u.call(this,t)}}remove(...e){const t=i(this.labelNames,e);a(this.labelNames,t),o.call(this,this.hashMap,t)}}})),m.register("fnXds",(function(e,t){"use strict";var s=m("9KpRF").TDigest;function r(){let e=Date.now()-this.lastRotateTimestampMillis;for(;e>this.durationBetweenRotatesMillis&&this.shouldRotate;)this.ringBuffer[this.currentBuffer]=new s,++this.currentBuffer>=this.ringBuffer.length&&(this.currentBuffer=0),e-=this.durationBetweenRotatesMillis,this.lastRotateTimestampMillis+=this.durationBetweenRotatesMillis;return this.ringBuffer[this.currentBuffer]}e.exports=class{constructor(e,t){this.maxAgeSeconds=e||0,this.ageBuckets=t||0,this.shouldRotate=e&&t,this.ringBuffer=Array(t).fill(new s),this.currentBuffer=0,this.lastRotateTimestampMillis=Date.now(),this.durationBetweenRotatesMillis=1e3*e/t||1/0}percentile(e){return r.call(this).percentile(e)}push(e){r.call(this),this.ringBuffer.forEach((t=>{t.push(e)}))}reset(){this.ringBuffer.forEach((e=>{e.reset()}))}compress(){this.ringBuffer.forEach((e=>{e.compress()}))}}})),m.register("9KpRF",(function(e,t){var s=m("5U6hf").RBTree;function r(e,t,r){this.discrete=!1===e,this.delta=e||.01,this.K=void 0===t?25:t,this.CX=void 0===r?1.1:r,this.centroids=new s(i),this.nreset=0,this.reset()}function i(e,t){return e.mean>t.mean?1:e.mean<t.mean?-1:0}function n(e,t){return e.mean_cumn-t.mean_cumn}function o(e){this.config=e||{},this.mode=this.config.mode||"auto",r.call(this,"cont"===this.mode&&e.delta),this.digest_ratio=this.config.ratio||.9,this.digest_thresh=this.config.thresh||1e3,this.n_unique=0}r.prototype.reset=function(){this.centroids.clear(),this.n=0,this.nreset+=1,this.last_cumulate=0},r.prototype.size=function(){return this.centroids.size},r.prototype.toArray=function(e){var t=[];return e?(this._cumulate(!0),this.centroids.each((function(e){t.push(e)}))):this.centroids.each((function(e){t.push({mean:e.mean,n:e.n})})),t},r.prototype.summary=function(){return[(this.discrete?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.percentile(0),"Q1  = "+this.percentile(.25),"Q2  = "+this.percentile(.5),"Q3  = "+this.percentile(.75),"max = "+this.percentile(1)].join("\n")},r.prototype.push=function(e,t){t=t||1,e=Array.isArray(e)?e:[e];for(var s=0;s<e.length;s++)this._digest(e[s],t)},r.prototype.push_centroid=function(e){e=Array.isArray(e)?e:[e];for(var t=0;t<e.length;t++)this._digest(e[t].mean,e[t].n)},r.prototype._cumulate=function(e){if(!(this.n===this.last_cumulate||!e&&this.CX&&this.CX>this.n/this.last_cumulate)){var t=0;this.centroids.each((function(e){e.mean_cumn=t+e.n/2,t=e.cumn=t+e.n})),this.n=this.last_cumulate=t}},r.prototype.find_nearest=function(e){if(0===this.size())return null;var t=this.centroids.lowerBound({mean:e}),s=null===t.data()?t.prev():t.data();if(s.mean===e||this.discrete)return s;var r=t.prev();return r&&Math.abs(r.mean-e)<Math.abs(s.mean-e)?r:s},r.prototype._new_centroid=function(e,t,s){var r={mean:e,n:t,cumn:s};return this.centroids.insert(r),this.n+=t,r},r.prototype._addweight=function(e,t,s){t!==e.mean&&(e.mean+=s*(t-e.mean)/(e.n+s)),e.cumn+=s,e.mean_cumn+=s/2,e.n+=s,this.n+=s},r.prototype._digest=function(e,t){var s=this.centroids.min(),r=this.centroids.max(),i=this.find_nearest(e);if(i&&i.mean===e)this._addweight(i,e,t);else if(i===s)this._new_centroid(e,t,0);else if(i===r)this._new_centroid(e,t,this.n);else if(this.discrete)this._new_centroid(e,t,i.cumn);else{var n=i.mean_cumn/this.n;Math.floor(4*this.n*this.delta*n*(1-n))-i.n>=t?this._addweight(i,e,t):this._new_centroid(e,t,i.cumn)}this._cumulate(!1),!this.discrete&&this.K&&this.size()>this.K/this.delta&&this.compress()},r.prototype.bound_mean=function(e){var t=this.centroids.upperBound({mean:e}),s=t.prev();return[s,s.mean===e?s:t.next()]},r.prototype.p_rank=function(e){var t=(Array.isArray(e)?e:[e]).map(this._p_rank,this);return Array.isArray(e)?t:t[0]},r.prototype._p_rank=function(e){if(0!==this.size()){if(e<this.centroids.min().mean)return 0;if(e>this.centroids.max().mean)return 1;this._cumulate(!0);var t=this.bound_mean(e),s=t[0],r=t[1];if(this.discrete)return s.cumn/this.n;var i=s.mean_cumn;return s!==r&&(i+=(e-s.mean)*(r.mean_cumn-s.mean_cumn)/(r.mean-s.mean)),i/this.n}},r.prototype.bound_mean_cumn=function(e){this.centroids._comparator=n;var t=this.centroids.upperBound({mean_cumn:e});this.centroids._comparator=i;var s=t.prev();return[s,s&&s.mean_cumn===e?s:t.next()]},r.prototype.percentile=function(e){var t=(Array.isArray(e)?e:[e]).map(this._percentile,this);return Array.isArray(e)?t:t[0]},r.prototype._percentile=function(e){if(0!==this.size()){this._cumulate(!0);var t=this.n*e,s=this.bound_mean_cumn(t),r=s[0],i=s[1];return i===r||null===r||null===i?(r||i).mean:this.discrete?t<=r.cumn?r.mean:i.mean:r.mean+(t-r.mean_cumn)*(i.mean-r.mean)/(i.mean_cumn-r.mean_cumn)}},r.prototype.compress=function(){if(!this.compressing){var e,t,s=this.toArray();for(this.reset(),this.compressing=!0;s.length>0;)this.push_centroid((e=s,t=void 0,t=Math.floor(Math.random()*e.length),e.splice(t,1)[0]));this._cumulate(!0),this.compressing=!1}},o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.push=function(e){r.prototype.push.call(this,e),this.check_continuous()},o.prototype._new_centroid=function(e,t,s){this.n_unique+=1,r.prototype._new_centroid.call(this,e,t,s)},o.prototype._addweight=function(e,t,s){1===e.n&&(this.n_unique-=1),r.prototype._addweight.call(this,e,t,s)},o.prototype.check_continuous=function(){return!("auto"!==this.mode||this.size()<this.digest_thresh)&&(this.n_unique/this.size()>this.digest_ratio&&(this.mode="cont",this.discrete=!1,this.delta=this.config.delta||.01,this.compress(),!0))},e.exports={TDigest:r,Digest:o}})),m.register("5U6hf",(function(e,t){e.exports={RBTree:m("3yuob"),BinTree:m("c1Yxm")}})),m.register("3yuob",(function(e,t){var s=m("ef3lN");function r(e){this.data=e,this.left=null,this.right=null,this.red=!0}function i(e){this._root=null,this._comparator=e,this.size=0}function n(e){return null!==e&&e.red}function o(e,t){var s=e.get_child(!t);return e.set_child(!t,s.get_child(t)),s.set_child(t,e),e.red=!0,s.red=!1,s}function a(e,t){return e.set_child(!t,o(e.get_child(!t),!t)),o(e,t)}r.prototype.get_child=function(e){return e?this.right:this.left},r.prototype.set_child=function(e,t){e?this.right=t:this.left=t},i.prototype=new s,i.prototype.insert=function(e){var t=!1;if(null===this._root)this._root=new r(e),t=!0,this.size++;else{var s=new r(void 0),i=0,c=0,l=null,u=s,h=null,p=this._root;for(u.right=this._root;;){if(null===p?(p=new r(e),h.set_child(i,p),t=!0,this.size++):n(p.left)&&n(p.right)&&(p.red=!0,p.left.red=!1,p.right.red=!1),n(p)&&n(h)){var m=u.right===l;p===h.get_child(c)?u.set_child(m,o(l,!c)):u.set_child(m,a(l,!c))}var f=this._comparator(p.data,e);if(0===f)break;c=i,i=f<0,null!==l&&(u=l),l=h,h=p,p=p.get_child(i)}this._root=s.right}return this._root.red=!1,t},i.prototype.remove=function(e){if(null===this._root)return!1;var t=new r(void 0),s=t;s.right=this._root;for(var i=null,c=null,l=null,u=1;null!==s.get_child(u);){var h=u;c=i,i=s,s=s.get_child(u);var p=this._comparator(e,s.data);if(u=p>0,0===p&&(l=s),!n(s)&&!n(s.get_child(u)))if(n(s.get_child(!u))){var m=o(s,u);i.set_child(h,m),i=m}else if(!n(s.get_child(!u))){var f=i.get_child(!h);if(null!==f)if(n(f.get_child(!h))||n(f.get_child(h))){var d=c.right===i;n(f.get_child(h))?c.set_child(d,a(i,h)):n(f.get_child(!h))&&c.set_child(d,o(i,h));var g=c.get_child(d);g.red=!0,s.red=!0,g.left.red=!1,g.right.red=!1}else i.red=!1,f.red=!0,s.red=!0}}return null!==l&&(l.data=s.data,i.set_child(i.right===s,s.get_child(null===s.left)),this.size--),this._root=t.right,null!==this._root&&(this._root.red=!1),null!==l},e.exports=i})),m.register("ef3lN",(function(e,t){function s(){}function r(e){this._tree=e,this._ancestors=[],this._cursor=null}s.prototype.clear=function(){this._root=null,this.size=0},s.prototype.find=function(e){for(var t=this._root;null!==t;){var s=this._comparator(e,t.data);if(0===s)return t.data;t=t.get_child(s>0)}return null},s.prototype.findIter=function(e){for(var t=this._root,s=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return s._cursor=t,s;s._ancestors.push(t),t=t.get_child(r>0)}return null},s.prototype.lowerBound=function(e){for(var t=this._root,s=this.iterator(),r=this._comparator;null!==t;){var i=r(e,t.data);if(0===i)return s._cursor=t,s;s._ancestors.push(t),t=t.get_child(i>0)}for(var n=s._ancestors.length-1;n>=0;--n)if(r(e,(t=s._ancestors[n]).data)<0)return s._cursor=t,s._ancestors.length=n,s;return s._ancestors.length=0,s},s.prototype.upperBound=function(e){for(var t=this.lowerBound(e),s=this._comparator;null!==t.data()&&0===s(t.data(),e);)t.next();return t},s.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},s.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},s.prototype.iterator=function(){return new r(this)},s.prototype.each=function(e){for(var t,s=this.iterator();null!==(t=s.next());)if(!1===e(t))return},s.prototype.reach=function(e){for(var t,s=this.iterator();null!==(t=s.prev());)if(!1===e(t))return},r.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},r.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else if(null===this._cursor.right){var t;do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},r.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else if(null===this._cursor.left){var t;do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},r.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},r.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e.exports=s})),m.register("c1Yxm",(function(e,t){var s=m("ef3lN");function r(e){this.data=e,this.left=null,this.right=null}function i(e){this._root=null,this._comparator=e,this.size=0}r.prototype.get_child=function(e){return e?this.right:this.left},r.prototype.set_child=function(e,t){e?this.right=t:this.left=t},i.prototype=new s,i.prototype.insert=function(e){if(null===this._root)return this._root=new r(e),this.size++,!0;for(var t=0,s=null,i=this._root;;){if(null===i)return i=new r(e),s.set_child(t,i),ret=!0,this.size++,!0;if(0===this._comparator(i.data,e))return!1;t=this._comparator(i.data,e)<0,s=i,i=i.get_child(t)}},i.prototype.remove=function(e){if(null===this._root)return!1;var t=new r(void 0),s=t;s.right=this._root;for(var i=null,n=null,o=1;null!==s.get_child(o);){i=s,s=s.get_child(o);var a=this._comparator(e,s.data);o=a>0,0===a&&(n=s)}return null!==n&&(n.data=s.data,i.set_child(i.right===s,s.get_child(null===s.left)),this._root=t.right,this.size--,!0)},e.exports=i})),m.register("jXTiH",(function(e,n){"use strict";var o=i.gzipSync,a=m("1JpET").globalRegistry;async function c(e,i,n){const a=t.parse(this.gatewayUrl),c=`${a.pathname&&"/"!==a.pathname?a.pathname:""}/metrics/job/${encodeURIComponent(i)}${function(e){return e?Object.keys(e).map((t=>`/${encodeURIComponent(t)}/${encodeURIComponent(e[t])}`)).join(""):""}(n)}`,l=t.resolve(this.gatewayUrl,c),u=t.parse(l),h=-1!==u.href.search(/^https/)?r:s;const p=Object.assign(u,this.requestOptions,{method:e});return new Promise(((t,s)=>{const r=h.request(p,(e=>{let s="";e.setEncoding("utf8"),e.on("data",(e=>{s+=e})),e.on("end",(()=>{t({resp:e,body:s})}))}));r.on("error",(e=>{s(e)})),"DELETE"!==e?this.registry.metrics().then((e=>{p.headers&&"gzip"===p.headers["Content-Encoding"]&&(e=o(e)),r.write(e),r.end()})).catch((e=>{s(e)})):r.end()}))}e.exports=class{constructor(e,t,s){s||(s=a),this.registry=s,this.gatewayUrl=e,this.requestOptions=Object.assign({},t)}pushAdd(e){if(!e||!e.jobName)throw new Error("Missing jobName parameter");return c.call(this,"POST",e.jobName,e.groupings)}push(e){if(!e||!e.jobName)throw new Error("Missing jobName parameter");return c.call(this,"PUT",e.jobName,e.groupings)}delete(e){if(!e||!e.jobName)throw new Error("Missing jobName parameter");return c.call(this,"DELETE",e.jobName,e.groupings)}}})),m.register("4Ir1R",(function(e,t){var s,r;l(e.exports,"linearBuckets",(()=>s),(e=>s=e)),l(e.exports,"exponentialBuckets",(()=>r),(e=>r=e)),s=(e,t,s)=>{if(s<1)throw new Error("Linear buckets needs a positive count");const r=new Array(s);for(let i=0;i<s;i++)r[i]=e+i*t;return r},r=(e,t,s)=>{if(e<=0)throw new Error("Exponential buckets needs a positive start");if(s<1)throw new Error("Exponential buckets needs a positive count");if(t<=1)throw new Error("Exponential buckets needs a factor greater than 1");const r=new Array(s);for(let i=0;i<s;i++)r[i]=e,e*=t;return r}})),m.register("95M9G",(function(e,t){"use strict";var s=m("ctlQa").isObject,r=m("5RGqc"),i=m("48tnT"),n=m("lzgi0"),o=m("7ZoD4"),a=m("25FDn"),c=m("5mwWx"),l=m("3Iq1z"),u=m("6RMYr"),h=m("gQ3Qk"),p=m("7boC2"),f=m("l01BA"),d=m("28u5J"),g=m("a2P2S");const b={processCpuTotal:r,processStartTime:i,osMemoryHeap:n,processOpenFileDescriptors:o,processMaxFileDescriptors:a,eventLoopLag:c,..."function"==typeof process.getActiveResourcesInfo?{processResources:h}:{},processHandles:l,processRequests:u,heapSizeAndUsed:p,heapSpacesSizeAndUsed:f,version:d,gc:g},_=Object.keys(b);e.exports=function(e){if(null!=e&&!s(e))throw new TypeError("config must be null, undefined, or an object");e={eventLoopMonitoringPrecision:10,...e};for(const t of Object.values(b))t(e.register,e)},e.exports.metricsList=_})),m.register("5RGqc",(function(e,t){"use strict";var s=m("ioqV6");const r="process_cpu_user_seconds_total",i="process_cpu_system_seconds_total",n="process_cpu_seconds_total";e.exports=(e,t={})=>{const o=e?[e]:void 0,a=t.prefix?t.prefix:"",c=t.labels?t.labels:{},l=Object.keys(c);let u=process.cpuUsage();const h=new s({name:a+r,help:"Total user CPU time spent in seconds.",registers:o,labelNames:l,collect(){const e=process.cpuUsage(),t=e.user-u.user,s=e.system-u.system;u=e,h.inc(c,t/1e6),p.inc(c,s/1e6),m.inc(c,(t+s)/1e6)}}),p=new s({name:a+i,help:"Total system CPU time spent in seconds.",registers:o,labelNames:l}),m=new s({name:a+n,help:"Total user and system CPU time spent in seconds.",registers:o,labelNames:l})},e.exports.metricNames=[r,i,n]})),m.register("48tnT",(function(e,t){"use strict";var s=m("9EDXb");const r=Math.round(Date.now()/1e3-process.uptime()),i="process_start_time_seconds";e.exports=(e,t={})=>{const n=t.prefix?t.prefix:"",o=t.labels?t.labels:{},a=Object.keys(o);new s({name:n+i,help:"Start time of the process since unix epoch in seconds.",registers:e?[e]:void 0,labelNames:a,aggregator:"omit",collect(){this.set(o,r)}})},e.exports.metricNames=[i]})),m.register("lzgi0",(function(e,t){"use strict";var s=m("9EDXb"),r=m("3dRLX"),i=m("RDhzd");const n="process_resident_memory_bytes";e.exports=(e,t)=>"linux"===process.platform?r(e,t):function(e,t={}){const r=t.prefix?t.prefix:"",o=t.labels?t.labels:{},a=Object.keys(o);new s({name:r+n,help:"Resident memory size in bytes.",registers:e?[e]:void 0,labelNames:a,collect(){const e=i();e&&this.set(o,e.rss)}})}(e,t),e.exports.metricNames="linux"===process.platform?r.metricNames:[n]})),m.register("3dRLX",(function(e,t){"use strict";var s=m("9EDXb");const r=["VmSize","VmRSS","VmData"],i="process_resident_memory_bytes",o="process_virtual_memory_bytes",a="process_heap_bytes";e.exports=(e,t={})=>{const c=e?[e]:void 0,l=t.prefix?t.prefix:"",u=t.labels?t.labels:{},h=Object.keys(u),p=new s({name:l+i,help:"Resident memory size in bytes.",registers:c,labelNames:h,collect(){try{const e=function(e){const t={};return e.split("\n").filter((e=>r.some((t=>0===e.indexOf(t))))).forEach((e=>{const s=e.split(":");let r=s[1].trim();r=r.substr(0,r.length-3),r=1024*Number(r),t[s[0]]=r})),t}(n.readFileSync("/proc/self/status","utf8"));p.set(u,e.VmRSS),m.set(u,e.VmSize),f.set(u,e.VmData)}catch{}}}),m=new s({name:l+o,help:"Virtual memory size in bytes.",registers:c,labelNames:h}),f=new s({name:l+a,help:"Process heap size in bytes.",registers:c,labelNames:h})},e.exports.metricNames=[i,o,a]})),m.register("RDhzd",(function(e,t){"use strict";e.exports=function(){try{return process.memoryUsage()}catch{return}}})),m.register("7ZoD4",(function(e,t){"use strict";var s=m("9EDXb");const r="process_open_fds";e.exports=(e,t={})=>{if("linux"!==o.platform)return;const i=t.prefix?t.prefix:"",a=t.labels?t.labels:{},c=Object.keys(a);new s({name:i+r,help:"Number of open file descriptors.",registers:e?[e]:void 0,labelNames:c,collect(){try{const e=n.readdirSync("/proc/self/fd");this.set(a,e.length-1)}catch{}}})},e.exports.metricNames=[r]})),m.register("25FDn",(function(e,t){"use strict";var s=m("9EDXb");const r="process_max_fds";let i;e.exports=(e,t={})=>{if(void 0===i)try{const e=n.readFileSync("/proc/self/limits","utf8").split("\n");for(const t of e)if(t.startsWith("Max open files")){const e=t.split(/  +/);i=Number(e[1]);break}}catch{return}if(void 0===i)return;const o=t.prefix?t.prefix:"",a=t.labels?t.labels:{},c=Object.keys(a);new s({name:o+r,help:"Maximum number of open file descriptors.",registers:e?[e]:void 0,labelNames:c,collect(){void 0!==i&&this.set(a,i)}})},e.exports.metricNames=[r]})),m.register("5mwWx",(function(e,t){"use strict";var s=m("9EDXb");let r;try{r=$3e788faca8f095a3$import$c6127cd154add85b}catch{}const i="nodejs_eventloop_lag_seconds",n="nodejs_eventloop_lag_min_seconds",o="nodejs_eventloop_lag_max_seconds",a="nodejs_eventloop_lag_mean_seconds",c="nodejs_eventloop_lag_stddev_seconds",l="nodejs_eventloop_lag_p50_seconds",u="nodejs_eventloop_lag_p90_seconds",h="nodejs_eventloop_lag_p99_seconds";function p(e,t,s){const r=process.hrtime(e),i=(1e9*r[0]+r[1])/1e9;t.set(s,i)}e.exports=(e,t={})=>{const m=t.prefix?t.prefix:"",f=t.labels?t.labels:{},d=Object.keys(f),g=e?[e]:void 0;let b;if(r&&r.monitorEventLoopDelay){const e=r.monitorEventLoopDelay({resolution:t.eventLoopMonitoringPrecision});e.enable(),b=()=>{const t=process.hrtime();setImmediate(p,t,_,f),v.set(f,e.min/1e9),y.set(f,e.max/1e9),w.set(f,e.mean/1e9),x.set(f,e.stddev/1e9),N.set(f,e.percentile(50)/1e9),j.set(f,e.percentile(90)/1e9),E.set(f,e.percentile(99)/1e9),e.reset()}}else b=()=>{const e=process.hrtime();setImmediate(p,e,_,f)};const _=new s({name:m+i,help:"Lag of event loop in seconds.",registers:g,labelNames:d,aggregator:"average",collect:b}),v=new s({name:m+n,help:"The minimum recorded event loop delay.",registers:g,labelNames:d,aggregator:"min"}),y=new s({name:m+o,help:"The maximum recorded event loop delay.",registers:g,labelNames:d,aggregator:"max"}),w=new s({name:m+a,help:"The mean of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),x=new s({name:m+c,help:"The standard deviation of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),N=new s({name:m+l,help:"The 50th percentile of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),j=new s({name:m+u,help:"The 90th percentile of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"}),E=new s({name:m+h,help:"The 99th percentile of the recorded event loop delays.",registers:g,labelNames:d,aggregator:"average"})},e.exports.metricNames=[i,n,o,a,c,l,u,h]})),m.register("3Iq1z",(function(e,t){"use strict";var s=m("f99D3").aggregateByObjectName,r=m("f99D3").updateMetrics,i=m("9EDXb");const n="nodejs_active_handles",o="nodejs_active_handles_total";e.exports=(e,t={})=>{if("function"!=typeof process._getActiveHandles)return;const a=e?[e]:void 0,c=t.prefix?t.prefix:"",l=t.labels?t.labels:{},u=Object.keys(l);new i({name:c+n,help:"Number of active libuv handles grouped by handle type. Every handle type is C++ class name.",labelNames:["type",...u],registers:a,collect(){const e=process._getActiveHandles();r(this,s(e),l)}}),new i({name:c+o,help:"Total number of active handles.",registers:a,labelNames:u,collect(){const e=process._getActiveHandles();this.set(l,e.length)}})},e.exports.metricNames=[n,o]})),m.register("f99D3",(function(e,t){"use strict";e.exports={aggregateByObjectName:function(e){const t={};for(let s=0;s<e.length;s++){const r=e[s];r&&void 0!==r.constructor&&(Object.hasOwnProperty.call(t,r.constructor.name)?t[r.constructor.name]+=1:t[r.constructor.name]=1)}return t},updateMetrics:function(e,t,s){e.reset();for(const r in t)e.set(Object.assign({type:r},s||{}),t[r])}}})),m.register("6RMYr",(function(e,t){"use strict";var s=m("9EDXb"),r=m("f99D3").aggregateByObjectName,i=m("f99D3").updateMetrics;const n="nodejs_active_requests",o="nodejs_active_requests_total";e.exports=(e,t={})=>{if("function"!=typeof process._getActiveRequests)return;const a=t.prefix?t.prefix:"",c=t.labels?t.labels:{},l=Object.keys(c);new s({name:a+n,help:"Number of active libuv requests grouped by request type. Every request type is C++ class name.",labelNames:["type",...l],registers:e?[e]:void 0,collect(){const e=process._getActiveRequests();i(this,r(e),c)}}),new s({name:a+o,help:"Total number of active requests.",registers:e?[e]:void 0,labelNames:l,collect(){const e=process._getActiveRequests();this.set(c,e.length)}})},e.exports.metricNames=[n,o]})),m.register("gQ3Qk",(function(e,t){"use strict";var s=m("9EDXb"),r=m("f99D3").updateMetrics;const i="nodejs_active_resources",n="nodejs_active_resources_total";e.exports=(e,t={})=>{if("function"!=typeof process.getActiveResourcesInfo)return;const o=t.prefix?t.prefix:"",a=t.labels?t.labels:{},c=Object.keys(a);new s({name:o+i,help:"Number of active resources that are currently keeping the event loop alive, grouped by async resource type.",labelNames:["type",...c],registers:e?[e]:void 0,collect(){const e=process.getActiveResourcesInfo(),t={};for(let s=0;s<e.length;s++){const r=e[s];Object.hasOwn(t,r)?t[r]+=1:t[r]=1}r(this,t,a)}}),new s({name:o+n,help:"Total number of active resources.",registers:e?[e]:void 0,labelNames:c,collect(){const e=process.getActiveResourcesInfo();this.set(a,e.length)}})},e.exports.metricNames=[i,n]})),m.register("7boC2",(function(e,t){"use strict";var s=m("9EDXb"),r=m("RDhzd");const i="nodejs_heap_size_total_bytes",n="nodejs_heap_size_used_bytes",o="nodejs_external_memory_bytes";e.exports=(e,t={})=>{if("function"!=typeof process.memoryUsage)return;const a=t.labels?t.labels:{},c=Object.keys(a),l=e?[e]:void 0,u=t.prefix?t.prefix:"",h=new s({name:u+i,help:"Process heap size from Node.js in bytes.",registers:l,labelNames:c,collect:()=>{const e=r();e&&(h.set(a,e.heapTotal),p.set(a,e.heapUsed),void 0!==e.external&&m.set(a,e.external))}}),p=new s({name:u+n,help:"Process heap size used from Node.js in bytes.",registers:l,labelNames:c}),m=new s({name:u+o,help:"Node.js external memory size in bytes.",registers:l,labelNames:c})},e.exports.metricNames=[i,n,o]})),m.register("l01BA",(function(e,t){"use strict";var s=m("9EDXb");const r=["total","used","available"],i={};r.forEach((e=>{i[e]=`nodejs_heap_space_size_${e}_bytes`})),e.exports=(e,t={})=>{const n=e?[e]:void 0,o=t.prefix?t.prefix:"",c=t.labels?t.labels:{},l=["space",...Object.keys(c)],u={};r.forEach((e=>{u[e]=new s({name:o+i[e],help:`Process heap space size ${e} from Node.js in bytes.`,labelNames:l,registers:n})})),u.total.collect=()=>{for(const e of a.getHeapSpaceStatistics()){const t=e.space_name.substr(0,e.space_name.indexOf("_space"));u.total.set({space:t,...c},e.space_size),u.used.set({space:t,...c},e.space_used_size),u.available.set({space:t,...c},e.space_available_size)}}},e.exports.metricNames=Object.values(i)})),m.register("28u5J",(function(e,t){"use strict";var s=m("9EDXb");const r=process.version,i=r.slice(1).split(".").map(Number),n="nodejs_version_info";e.exports=(e,t={})=>{const o=t.prefix?t.prefix:"",a=t.labels?t.labels:{},c=Object.keys(a);new s({name:o+n,help:"Node.js version info.",labelNames:["version","major","minor","patch",...c],registers:e?[e]:void 0,aggregator:"first",collect(){this.labels(r,i[0],i[1],i[2],...Object.values(a)).set(1)}})},e.exports.metricNames=[n]})),m.register("a2P2S",(function(e,t){"use strict";var s=m("3SVoY");let r;try{r=$7501afd54d2fb3cc$import$c6127cd154add85b}catch{}const i="nodejs_gc_duration_seconds",n=[.001,.01,.1,1,2,5],o=[];o[r.constants.NODE_PERFORMANCE_GC_MAJOR]="major",o[r.constants.NODE_PERFORMANCE_GC_MINOR]="minor",o[r.constants.NODE_PERFORMANCE_GC_INCREMENTAL]="incremental",o[r.constants.NODE_PERFORMANCE_GC_WEAKCB]="weakcb",e.exports=(e,t={})=>{if(!r)return;const a=t.prefix?t.prefix:"",c=t.labels?t.labels:{},l=Object.keys(c),u=t.gcDurationBuckets?t.gcDurationBuckets:n,h=new s({name:a+i,help:"Garbage collection duration by kind, one of major, minor, incremental or weakcb.",labelNames:["kind",...l],buckets:u,registers:e?[e]:void 0});new r.PerformanceObserver((e=>{const t=e.getEntries()[0],s=t.detail?o[t.detail.kind]:o[t.kind];h.observe(Object.assign({kind:s},c),t.duration/1e3)})).observe({entryTypes:["gc"]})},e.exports.metricNames=[i]})),m.register("ii20e",(function(e,t){var s;l(e.exports,"aggregators",(()=>s),(e=>s=e));var r=m("ctlQa"),i=r.Grouper,n=r.hashObject;function o(e){return t=>{if(0===t.length)return;const s={help:t[0].help,name:t[0].name,type:t[0].type,values:[],aggregator:t[0].aggregator},r=new i;return t.forEach((e=>{e.values.forEach((e=>{const t=n(e.labels);r.add(`${e.metricName}_${t}`,e)}))})),r.forEach((t=>{if(0===t.length)return;const r={value:e(t),labels:t[0].labels};t[0].metricName&&(r.metricName=t[0].metricName),s.values.push(r)})),s}}s={sum:o((e=>e.reduce(((e,t)=>e+t.value),0))),first:o((e=>e[0].value)),omit:()=>{},average:o((e=>e.reduce(((e,t)=>e+t.value),0)/e.length)),min:o((e=>e.reduce(((e,t)=>Math.min(e,t.value)),1/0))),max:o((e=>e.reduce(((e,t)=>Math.max(e,t.value)),-1/0)))}})),m.register("afddL",(function(e,t){"use strict";var s=m("1JpET"),r=m("ctlQa").Grouper,i=m("ii20e").aggregators;let n=()=>{const e=c;return n=()=>e,e};const o="prom-client:getMetricsReq",a="prom-client:getMetricsRes";let l=[s.globalRegistry],u=0,h=!1;const p=new Map;class f extends s{constructor(){super(),function(){if(h)return;h=!0,n().isMaster&&n().on("message",((e,t)=>{if(t.type===a){const e=p.get(t.requestId);if(t.error)return void e.done(new Error(t.error));if(t.metrics.forEach((t=>e.responses.push(t))),e.pending--,0===e.pending){p.delete(t.requestId),clearTimeout(e.errorTimeout);const s=f.aggregate(e.responses).metrics();e.done(null,s)}}}));n().isWorker&&process.on("message",(e=>{e.type===o&&Promise.all(l.map((e=>e.getMetricsAsJSON()))).then((t=>{process.send({type:a,requestId:e.requestId,metrics:t})})).catch((t=>{process.send({type:a,requestId:e.requestId,error:t.message})}))}))}()}clusterMetrics(){const e=u++;return new Promise(((t,s)=>{let r=!1;function i(e,i){r||(r=!0,e?s(e):t(i))}const a={responses:[],pending:0,done:i,errorTimeout:setTimeout((()=>{const e=new Error("Operation timed out.");a.done(e)}),5e3)};p.set(e,a);const c={type:o,requestId:e};for(const e in n().workers)n().workers[e].isConnected()&&(n().workers[e].send(c),a.pending++);0===a.pending&&(clearTimeout(a.errorTimeout),process.nextTick((()=>i(null,""))))}))}static aggregate(e){const t=new s,n=new r;return e.forEach((e=>{e.forEach((e=>{n.add(e.name,e)}))})),n.forEach((e=>{const s=e[0].aggregator,r=i[s];if("function"!=typeof r)throw new Error(`'${s}' is not a defined aggregator.`);const n=r(e);if(n){const e=Object.assign({get:()=>n},n);t.registerMetric(e)}})),t}static setRegistries(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{if(!(e instanceof s))throw new TypeError("Expected Registry, got "+typeof e)})),l=e}}e.exports=f}));var f,d,g,b,_,v,y,w,x,N,j,E,M,O,k={};l(k,"register",(()=>f),(e=>f=e)),l(k,"Registry",(()=>d),(e=>d=e)),l(k,"contentType",(()=>g),(e=>g=e)),l(k,"validateMetricName",(()=>b),(e=>b=e)),l(k,"Counter",(()=>_),(e=>_=e)),l(k,"Gauge",(()=>v),(e=>v=e)),l(k,"Histogram",(()=>y),(e=>y=e)),l(k,"Summary",(()=>w),(e=>w=e)),l(k,"Pushgateway",(()=>x),(e=>x=e)),l(k,"linearBuckets",(()=>N),(e=>N=e)),l(k,"exponentialBuckets",(()=>j),(e=>j=e)),l(k,"collectDefaultMetrics",(()=>E),(e=>E=e)),l(k,"aggregators",(()=>M),(e=>M=e)),l(k,"AggregatorRegistry",(()=>O),(e=>O=e)),f=m("1JpET").globalRegistry,d=m("1JpET"),g=m("1JpET").globalRegistry.contentType,b=m("7dHeS").validateMetricName,_=m("ioqV6"),v=m("9EDXb"),y=m("3SVoY"),w=m("2WQLa"),x=m("jXTiH"),N=m("4Ir1R").linearBuckets,j=m("4Ir1R").exponentialBuckets,E=m("95M9G"),M=m("ii20e").aggregators,O=m("afddL"),console.log(k);